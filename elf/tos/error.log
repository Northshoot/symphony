got tickFired: 32729 140367697040332
/home/lauril/dev/symphony/elf/vdl-map.c:658:vdl_file_map_single: Unable to allocate complete mapping for ./libtostest.so
/home/lauril/dev/symphony/elf/vdl-map.c:772, vdl_file_map_single_maybe, The file should be there so this should not fail.
Segmentation fault

32729 is the number of the library which have been opened.
I was not shure how much "backwords" print out I should include, I hope it is enough. Opening over 30k libraries generates a lot of printouts :)

/home/lauril/dev/symphony/elf/x86_64/machine.c:115, machine_lazy_reloc (file=libtostest.so)
/home/lauril/dev/symphony/elf/vdl-tls.c:332, vdl_tls_dtv_update ()
/home/lauril/dev/symphony/elf/glibc.c:248, do_glibc_patch (file=libtostest.so)
/home/lauril/dev/symphony/elf/vdl-context.c:87, vdl_context_symbol_remap (name=_dl_addr, ver_name=, ver_filename=)
/home/lauril/dev/symphony/elf/vdl-lookup.c:70, vdl_lookup_file_begin (name=_dl_addr, elf_hash=0xb257ce2, gnu_hash=0x3cbc282e, file=./libtostest.so)
/home/lauril/dev/symphony/elf/vdl-context.c:87, vdl_context_symbol_remap (name=__libc_dlopen_mode, ver_name=, ver_filename=)
/home/lauril/dev/symphony/elf/vdl-lookup.c:70, vdl_lookup_file_begin (name=__libc_dlopen_mode, elf_hash=0x5493c45, gnu_hash=0xf2cb98a2, file=./libtostest.so)
/home/lauril/dev/symphony/elf/vdl-context.c:87, vdl_context_symbol_remap (name=__libc_dlclose, ver_name=, ver_filename=)
/home/lauril/dev/symphony/elf/vdl-lookup.c:70, vdl_lookup_file_begin (name=__libc_dlclose, elf_hash=0xd07b995, gnu_hash=0x30b45b02, file=./libtostest.so)
/home/lauril/dev/symphony/elf/vdl-context.c:87, vdl_context_symbol_remap (name=__libc_dlsym, ver_name=, ver_filename=)
/home/lauril/dev/symphony/elf/vdl-lookup.c:70, vdl_lookup_file_begin (name=__libc_dlsym, elf_hash=0xf0d157d, gnu_hash=0x96bb1705, file=./libtostest.so)
/home/lauril/dev/symphony/elf/vdl-init.c:19, call_init (file=libtostest.so)
/home/lauril/dev/symphony/elf/vdl-dl.c:306, vdl_dlsym (handle=0x7f6b4f89bb08, symbol=tickFired, caller=0x40086e)
/home/lauril/dev/symphony/elf/vdl-dl.c:522, vdl_dlvsym_with_flags (handle=0x7f6b4f89bb08, symbol=tickFired, version=, caller=0x40086e)
/home/lauril/dev/symphony/elf/vdl-context.c:87, vdl_context_symbol_remap (name=tickFired, ver_name=, ver_filename=)
/home/lauril/dev/symphony/elf/vdl-lookup.c:436, vdl_lookup_with_scope_internal (name=tickFired, ver_name=, ver_filename=, elf_hash=0x9fd7244, gnu_hash=0x650bc2ba, ver_hash=0x0, flags=0x0, scope=0x7f6b4f89b728)
/home/lauril/dev/symphony/elf/vdl-lookup.c:70, vdl_lookup_file_begin (name=tickFired, elf_hash=0x9fd7244, gnu_hash=0x650bc2ba, file=./libtostest.so)
/home/lauril/dev/symphony/elf/vdl-lookup.c:287, symbol_version_matches (  0 4
)
/home/lauril/dev/symphony/elf/vdl-dl.c:388, vdl_dlerror ()
/home/lauril/dev/symphony/elf/vdl-context.c:140, vdl_context_new (argc=2)
/home/lauril/dev/symphony/elf/vdl-dl.c:155, dlopen_with_context (filename=libtostest.so, flags=0x1)
/home/lauril/dev/symphony/elf/vdl-context.c:67, vdl_context_lib_remap (name=libtostest.so)
/home/lauril/dev/symphony/elf/vdl-map.c:158, search_filename (name=libtostest.so)
/home/lauril/dev/symphony/elf/vdl-utils.c:70, vdl_utils_strconcat (str=../)
/home/lauril/dev/symphony/elf/vdl-utils.c:105, vdl_utils_exists (filename=..//libtostest.so)
/home/lauril/dev/symphony/elf/vdl-utils.c:70, vdl_utils_strconcat (str=/lib64)
/home/lauril/dev/symphony/elf/vdl-utils.c:105, vdl_utils_exists (filename=/lib64/libtostest.so)
/home/lauril/dev/symphony/elf/vdl-utils.c:70, vdl_utils_strconcat (str=/lib/x86_64-linux-gnu)
/home/lauril/dev/symphony/elf/vdl-utils.c:105, vdl_utils_exists (filename=/lib/x86_64-linux-gnu/libtostest.so)
/home/lauril/dev/symphony/elf/vdl-utils.c:70, vdl_utils_strconcat (str=/usr/lib64)
/home/lauril/dev/symphony/elf/vdl-utils.c:105, vdl_utils_exists (filename=/usr/lib64/libtostest.so)
/home/lauril/dev/symphony/elf/vdl-utils.c:70, vdl_utils_strconcat (str=/usr/lib/x86_64-linux-gnu)
/home/lauril/dev/symphony/elf/vdl-utils.c:105, vdl_utils_exists (filename=/usr/lib/x86_64-linux-gnu/libtostest.so)
/home/lauril/dev/symphony/elf/vdl-utils.c:70, vdl_utils_strconcat (str=.)
/home/lauril/dev/symphony/elf/vdl-utils.c:105, vdl_utils_exists (filename=./libtostest.so)
/home/lauril/dev/symphony/elf/vdl-map.c:584, vdl_file_map_single (context=0x7f6b4f89bf68, filename=./libtostest.so, name=libtostest.so)
/home/lauril/dev/symphony/elf/vdl-map.c:242, get_file_info (phnum=7, phdr=0x7f6b4f89c3a8)
/home/lauril/dev/symphony/elf/vdl-map.c:529, file_map_do (fd=0x3, prot=0x5, load_base=0x7f5b49a9f000)
/home/lauril/dev/symphony/elf/vdl-map.c:529, file_map_do (fd=0x3, prot=0x3, load_base=0x7f5b49a9f000)
/home/lauril/dev/symphony/elf/vdl-map.c:785, vdl_file_map_deps_recursive (file=libtostest.so)
/home/lauril/dev/symphony/elf/vdl-utils.c:151, vdl_utils_strsplit (value=, separator=58)
/home/lauril/dev/symphony/elf/vdl-utils.c:151, vdl_utils_strsplit (value=, separator=58)
/home/lauril/dev/symphony/elf/vdl-map.c:97, vdl_file_get_dt_needed (file=libtostest.so)
/home/lauril/dev/symphony/elf/vdl-tls.c:19, file_initialize (file=libtostest.so, initialized=0)
/home/lauril/dev/symphony/elf/vdl-utils.c:224, vdl_utils_search_phdr (phdr=0x7f6b4f89c3a8, phnum=7, type=7)
/home/lauril/dev/symphony/elf/vdl-reloc.c:325, reloc_dtrel (file=libtostest.so)
/home/lauril/dev/symphony/elf/vdl-reloc.c:344, reloc_dtrela (file=libtostest.so)
/home/lauril/dev/symphony/elf/vdl-reloc.c:110, do_process_reloc (file=./libtostest.so, type=R_X86_64_RELATIVE, addr=0x7f5b49c9feb8, addend=0x3a8, sym=0)
/home/lauril/dev/symphony/elf/vdl-reloc.c:110, do_process_reloc (file=./libtostest.so, type=R_X86_64_RELATIVE, addr=0x7f5b49c9fec0, addend=0x3ba, sym=0)
/home/lauril/dev/symphony/elf/x86_64/machine.c:115, machine_lazy_reloc (file=libtostest.so)
/home/lauril/dev/symphony/elf/vdl-tls.c:332, vdl_tls_dtv_update ()
/home/lauril/dev/symphony/elf/glibc.c:248, do_glibc_patch (file=libtostest.so)
/home/lauril/dev/symphony/elf/vdl-context.c:87, vdl_context_symbol_remap (name=_dl_addr, ver_name=, ver_filename=)
/home/lauril/dev/symphony/elf/vdl-lookup.c:70, vdl_lookup_file_begin (name=_dl_addr, elf_hash=0xb257ce2, gnu_hash=0x3cbc282e, file=./libtostest.so)
/home/lauril/dev/symphony/elf/vdl-context.c:87, vdl_context_symbol_remap (name=__libc_dlopen_mode, ver_name=, ver_filename=)
/home/lauril/dev/symphony/elf/vdl-lookup.c:70, vdl_lookup_file_begin (name=__libc_dlopen_mode, elf_hash=0x5493c45, gnu_hash=0xf2cb98a2, file=./libtostest.so)
/home/lauril/dev/symphony/elf/vdl-context.c:87, vdl_context_symbol_remap (name=__libc_dlclose, ver_name=, ver_filename=)
/home/lauril/dev/symphony/elf/vdl-lookup.c:70, vdl_lookup_file_begin (name=__libc_dlclose, elf_hash=0xd07b995, gnu_hash=0x30b45b02, file=./libtostest.so)
/home/lauril/dev/symphony/elf/vdl-context.c:87, vdl_context_symbol_remap (name=__libc_dlsym, ver_name=, ver_filename=)
/home/lauril/dev/symphony/elf/vdl-lookup.c:70, vdl_lookup_file_begin (name=__libc_dlsym, elf_hash=0xf0d157d, gnu_hash=0x96bb1705, file=./libtostest.so)
/home/lauril/dev/symphony/elf/vdl-init.c:19, call_init (file=libtostest.so)
/home/lauril/dev/symphony/elf/vdl-dl.c:306, vdl_dlsym (handle=0x7f6b4f89c6e8, symbol=tickFired, caller=0x40086e)
/home/lauril/dev/symphony/elf/vdl-dl.c:522, vdl_dlvsym_with_flags (handle=0x7f6b4f89c6e8, symbol=tickFired, version=, caller=0x40086e)
/home/lauril/dev/symphony/elf/vdl-context.c:87, vdl_context_symbol_remap (name=tickFired, ver_name=, ver_filename=)
/home/lauril/dev/symphony/elf/vdl-lookup.c:436, vdl_lookup_with_scope_internal (name=tickFired, ver_name=, ver_filename=, elf_hash=0x9fd7244, gnu_hash=0x650bc2ba, ver_hash=0x0, flags=0x0, scope=0x7f6b4f89c308)
/home/lauril/dev/symphony/elf/vdl-lookup.c:70, vdl_lookup_file_begin (name=tickFired, elf_hash=0x9fd7244, gnu_hash=0x650bc2ba, file=./libtostest.so)
/home/lauril/dev/symphony/elf/vdl-lookup.c:287, symbol_version_matches (  0 4
)
/home/lauril/dev/symphony/elf/vdl-dl.c:388, vdl_dlerror ()
/home/lauril/dev/symphony/elf/vdl-context.c:140, vdl_context_new (argc=2)
/home/lauril/dev/symphony/elf/vdl-dl.c:155, dlopen_with_context (filename=libtostest.so, flags=0x1)
/home/lauril/dev/symphony/elf/vdl-context.c:67, vdl_context_lib_remap (name=libtostest.so)
/home/lauril/dev/symphony/elf/vdl-map.c:158, search_filename (name=libtostest.so)
/home/lauril/dev/symphony/elf/vdl-utils.c:70, vdl_utils_strconcat (str=../)
/home/lauril/dev/symphony/elf/vdl-utils.c:105, vdl_utils_exists (filename=..//libtostest.so)
/home/lauril/dev/symphony/elf/vdl-utils.c:70, vdl_utils_strconcat (str=/lib64)
/home/lauril/dev/symphony/elf/vdl-utils.c:105, vdl_utils_exists (filename=/lib64/libtostest.so)
/home/lauril/dev/symphony/elf/vdl-utils.c:70, vdl_utils_strconcat (str=/lib/x86_64-linux-gnu)
/home/lauril/dev/symphony/elf/vdl-utils.c:105, vdl_utils_exists (filename=/lib/x86_64-linux-gnu/libtostest.so)
/home/lauril/dev/symphony/elf/vdl-utils.c:70, vdl_utils_strconcat (str=/usr/lib64)
/home/lauril/dev/symphony/elf/vdl-utils.c:105, vdl_utils_exists (filename=/usr/lib64/libtostest.so)
/home/lauril/dev/symphony/elf/vdl-utils.c:70, vdl_utils_strconcat (str=/usr/lib/x86_64-linux-gnu)
/home/lauril/dev/symphony/elf/vdl-utils.c:105, vdl_utils_exists (filename=/usr/lib/x86_64-linux-gnu/libtostest.so)
/home/lauril/dev/symphony/elf/vdl-utils.c:70, vdl_utils_strconcat (str=.)
/home/lauril/dev/symphony/elf/vdl-utils.c:105, vdl_utils_exists (filename=./libtostest.so)
/home/lauril/dev/symphony/elf/vdl-map.c:584, vdl_file_map_single (context=0x7f6b4f89cb48, filename=./libtostest.so, name=libtostest.so)
/home/lauril/dev/symphony/elf/vdl-map.c:242, get_file_info (phnum=7, phdr=0x7f6b4f89cf88)
/home/lauril/dev/symphony/elf/vdl-map.c:658:vdl_file_map_single: Unable to allocate complete mapping for ./libtostest.so
/home/lauril/dev/symphony/elf/vdl-map.c:772, vdl_file_map_single_maybe, The file should be there so this should not fail.
Segmentation fault

